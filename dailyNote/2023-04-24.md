# 状态码
已定义范围|类别|原因短语|整体范围
:-:|:-:|:-:|:-:
100-101|informational(消息提示性)|接收的请求正在处理|100-199
200-206|Success(请求成功)|请求正常处理完毕|200-299
300-305|Redirection(重定向)|需要进行附加操作以完成请求|300-399
400-415|Client Error(客户端错误)|服务器无法处理请求|400-499
500-505|Server Error(服务器错误)|服务器处理请求出错|500-599
## 100~199 信息性状态码
-   100 Continue：客户端想向服务器发送实体，但不确定服务器能不能接受，所以首先会向服务器发送一个携带了`100 continue`的`Except`，服务器受到这个请求之后如果能接收客户端发来的实体，那就返回一个`100 Continue`响应，如果不能就返回一个错误码。
-  101 Switching Protocols：服务器正在根据客户端的指定，将协议切换成Update首部所列的协议。
## 200~299 成功

服务器有一组用来表示成功的状态码，分别对应于不同类型的请求。

-   **200 OK：**从客户端发来的请求在服务器端被正常处理了，实体的主体部分包含了所请求的资源。
-   201 Created：用于创建服务器对象的请求(比如：PUT)，响应的实体主体部分中应该包含各种引用了已经创建好的资源的URL，Location首部包含的则是具体的引用。
-   202 Accepted：请求已经被接收，但服务器还没有执行任何操作。并不意味着服务器会完成这个请求。
-   203 Non-Authoritative-Information：实体首部包含的信息不是来自于源端服务器，而是来自资源的一份副本
-   **204 No Content：服务器成功处理了请求，但没有返回任何内容。主要用于在浏览器不转为显示新文档的情况下，对其进行更新(比如刷新表单页面)。
-   205 Reset Content：用于浏览器的代码，告诉浏览器清除当前页面中所有HTML表单元素。
-   **206 Partial Content：成功执行了一个部分或者Range请求，因为客户端可以通过一些特殊的首部来获取部分或者范围内的文档。响应报文中包含由 Content-Range 指定范围的实体内容。
## 300~399 重定向

重定向状态码要么告诉客户端使用代替位置来访问他们所感兴趣的资源，要么就提供一个替代的响应而不是资源的内容。如果资源已被移动，可以发送一个重定向状态码和一个可选的Location首部来告知客户端资源已被移走。以及现在可以在那里找到它。这样浏览器就可以自己转向新的位置了。

-   300 Multiple Choise：客户端请求一个世纪指向多个资源的URL时会返回这个状态码，比如服务器上有某个HTML文档的英语和法语版本，返回这个状态码时会有一个选项列表，这样客户端就可以选择了。
-   301 Moved Permanently：永久性重定向。该状态码表示请求的资源已被分配了新的 URI（该URL存在Location首部中），以后应使用资源现在所指的 URI。
-   302 Found：临时性重定向。该状态码表示请求的资源已被分配了新的 URI（该URL存在Location首部中），希望用户（本次）能使用新的 URL 访问，将来的请求还应使用老的URL。注意：刚开始客户端发送POST请求，在收到302状态码后，使用GET请求访问新给的URL。在HTTP1.0生效。
-   303 See Other：告知客户端应该用另一个URL（该URL存在Location首部中）来获取资源，其主要目的是允许POST请求的响应将客户端定向到某个资源上去。在HTTP1.1生效。
-   **304 Not Modified：**此状态码适用于客户端发送了一个有条件的请求（ If-Match，If-ModifiedSince，If-None-Match，If-Range，If-Unmodified-Since ）。比如客户端想获取某个资源，并且是在XXX时间修改过的新的资源，如果这个资源没有修改，服务端就返回304给客户端。

	我们知道前端代码打包后需要部署到静态服务器上。客户端通过输入url就能看到对应的页面。从客户端到服务器发送请求到接收资源需要建立连接、消耗宽带。
	
	但是静态资源的更改频率往往没有那么高，于是就有一些专门的response header设置。通过这些设置让浏览器在获取资源文件时直接从本地硬盘或者内存获取，而不必再发送请求。这样也减轻了服务器的负担，同时还加快了客户端的网页加载速度，用户体验好。
	
	设置方式：
	
	1、通过expires（http1时的规范，目前是向下兼容所以有的网站还在用这个）：它的值是一个绝对时间的GMT时间字符串。
	
	2、cache-control字段：该字段有几个可选值包括no-cache、no-store、public、private等，这些值决定了能否使用缓存以及缓存的方式。
	
	no-cache时，代表不使用本地缓存，客户端会向服务器发送请求，由服务器决定是否重新获取资源。
	
	no-store时，会完整下载资源
	
	public时：表示资源可以被所有用户缓存，包括服务器
	
	private时表示资源只能被浏览器终端缓存
	
	如果两者同时存在，cache-control优先级更高一些。
	
	当我们发送请求让浏览器进行判断时，客户端和服务器需要一些标识来进行通讯
	
	比如If-Modified-Since和If-None-Match字段
	
	这两个字段的值通过第一次请求的response header中的last-modified、etag携带过来。
	```javaScript
	// response header
	etag: '5c20abbd-e2e8'
	last-modified: Mon, 24 Dec 2018 09:49:49 GMT
	
	// request header 变为
	if-none-matched: '5c20abbd-e2e8'
	if-modified-since: Mon, 24 Dec 2018 09:49:49 GMT
	
	```
	浏览器没有命中强缓存并走协商缓存时就把这些值跟资源文件的信息进行比对。
	
	如果资源没更改，返回304，浏览器读取本地缓存。
	如果资源有更改，返回200，返回最新的资源。
	
	至于为什么有etag和last-modified两个字段主要是解决服务器不能精确事件的问题而新增了etag导致的，两个判断相辅相成，具体如何决策看服务器如何处理了

-   305 Use Proxy：用来告诉客户端必须通过一个代理来访问资源，代理的位置在Location里。
-   306：还没用这个状态码
-   307 Temporary Redirect：临时重定向。该状态码与 302 Found 有着相同的含义。307 会遵照浏览器标准，不会从 POST 变成 GET。
## 400~499 客户端错误

4XX 的响应结果表明**客户端是发生错误的原因所在**。但很多4xx错误都被浏览器解决了，所以用户经常看到的也就是404了。

-   400 Bad Request：该状态码表示请求报文中存在语法错误。
-   401 Unauthorized：告诉客户端，要想获取资源的访问权，首先要对自己认证。
-   402 Payment Required：此状态码还未被使用，保留中。
-   **403 Forbidden**：表明服务器拒绝了这个来自客户端的请求。一般不会说明缘由。
-   404 Not Found：表明服务器上无法找到请求的资源。一般还会包含一个实体（比如404页面），以便客户端给用户看。
-   **405 Method Not Allowed**：客户端发起的请求中带有所有请求的URL不支持的方法。同时应该在响应中包含Allow首部，以告诉客户端可以使用什么方法。
-   406 Not Accepted：客户端可以在请求首部中指明自己愿意接收什么类型的实体，但是当服务器没有这种类型实体的时候，会发送406.
-   407 proxy Authentication Required：与401类似，但是用于要求对资源进行认证的代理服务器。
-   408 Request TImeout：如果客户端完成请求所话的时间太长，服务器返回此代码并关闭连接。
-   409 Conflict：用于说明请求可能在资源上引发一些冲突。服务器担心请求会引发冲突时，发送此代码。并在响应的主体中描述冲突。
-   410 Gone：与404类似，只是服务器曾经拥有过此资源。
-   411 Length Required：服务器要求客户端发请求的时候包含Content-Length首部的时候发送此代码。
-   412 Precondition Failed：客户端发起了条件请求，且其中一个条件失败了的时候会收到此状态码。
-   413 Request Entity Too large：客户端发送的实体主体比服务器所能希望处理的要大时，使用此代码。
-   414 Request URL Too Long：客户端发送的请求URL比服务器所能希望处理的要长时，使用此代码。
-   415 Unsupported Media Type：服务器无法理解或无法支持客户端所发实体内容类型时，使用此状态码。
-   416 Request Range Not Satisfiable：请求报文所请求的是指定资源的某个范围，而此范围无效或者无法满足时，使用此状态码
-   417 Expectation Failed：请求的Expect请求首部包含了一个期望，但是服务器无法满足此期望时，使用此状态码。
## 500~599 服务器错误

5XX 的响应结果表明服务器本身发生错误。

-   **500 Internal Server Error：**该状态码表明服务器端在执行请求时遇到了一个妨碍它为请求提供服务的错误，也有可能是 Web 应用存在的 bug 或某些临时的故障。
-   501 Not Implemented：客户端发起的请求超出服务器的能力范围(比如使用了服务器不支持的请求方法)
-   502 Bad Gateway：作为代理或网关使用的服务器从请求响应链的下一条链路上受到了一条伪响应(比如，它无法连接到其他父网关)时，使用此码。
-   **503 Service Unavailable：**该状态码表明服务器暂时处于超负载或正在进行停机维护，现在无法处理请求，但是将来可以。如果服务器知道什么时候能回复，可以在响应首部中添加Retry-After
-   504 Gateway Timeout：与408类似，只是这里的响应来自一个网关或者代理，他们等待另一个服务器对齐请求进行响应超时了。
-   505 HTTP Version Not Supported：服务器收的请求使用了它无法或者不愿支持的协议版本时，使用此状态码。